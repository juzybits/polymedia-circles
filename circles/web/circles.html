<!DOCTYPE html>
<html>
<head>
    <title>Polymedia Circles</title>
</head>
<body>

<script>

const CANVAS_SIZE = 1000;
const CIRCLE_MIN_RADIUS = 25;
const CIRCLE_MAX_RADIUS = 450;
const MIN_CIRCLES = 2;
const MAX_CIRCLES = 7;

// Generate a random integer between `min` (inclusive) and `max` (exclusive)
function getRandomNumber(min, max) {
    return Math.floor(Math.random() * (max - min) + min);
}

// Generate a random CSS color like "rgb(35,123,207)"
function getRandomColor() {
    const red = getRandomNumber(0, 256);
    const green = getRandomNumber(0, 256);
    const blue = getRandomNumber(0, 256);
    return `rgb(${red},${green},${blue})`;
}

// Random background color
const backgroundColor = getRandomColor();

// Random number of circles
const numCircles = getRandomNumber(MIN_CIRCLES, MAX_CIRCLES+1);

const circlesConfig = [];

// Generate properties for each circle
for (let i = 0; i < numCircles; i++) {
    const radius = getRandomNumber(CIRCLE_MIN_RADIUS, CIRCLE_MAX_RADIUS+1); // Random radius
    circlesConfig.push({
        color: getRandomColor(),
        radius: radius,
        cx: getRandomNumber(radius, CANVAS_SIZE - radius), // Random x position, within the SVG bounds
        cy: getRandomNumber(radius, CANVAS_SIZE - radius) // Random y position, within the SVG bounds
    });
}

console.log("Background color: ", backgroundColor);
console.log("Number of circles: ", numCircles);
console.log("Circle properties: ", JSON.stringify(circlesConfig, null, 2));

// Paint the SVG

// First, create the SVG and rect elements
const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
svg.setAttribute("width", CANVAS_SIZE);
svg.setAttribute("height", CANVAS_SIZE);

const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
rect.setAttribute("width", "100%");
rect.setAttribute("height", "100%");
rect.setAttribute("fill", backgroundColor);

svg.appendChild(rect);

// Sort the config array by circle radius (in descending order)
circlesConfig.sort((a, b) => b.radius - a.radius);

// Then create and append each circle
circlesConfig.forEach(function(circleConfig) {
    const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
    circle.setAttribute("cx", circleConfig.cx);
    circle.setAttribute("cy", circleConfig.cy);
    circle.setAttribute("r", circleConfig.radius);
    circle.setAttribute("fill", circleConfig.color);

    svg.appendChild(circle);
});

// Append the SVG to the body (or any other container element)
document.body.appendChild(svg);

</script>

</body>
</html>

<!--
<svg width="1000" height="1000" xmlns="http://www.w3.org/2000/svg">
   <rect width="100%" height="100%" fill="#341F79" />
   <circle cx="466.4045423229629" cy="342.197428313869" r="177.58664979192574" fill="#557367" />
   <circle cx="370.5292503648195" cy="379.5424851118506" r="165.57370018475444" fill="#D06D1B" />
   <circle cx="421.68166575495815" cy="617.6651885053693" r="108.89425707070792" fill="#B441C1" />
   <circle cx="576.0227846217238" cy="552.4665893479856" r="106.54498198811316" fill="#039DFB" />
   <circle cx="496.31707818195844" cy="319.872749940013" r="69.35271953387377" fill="#855389" />
</svg>
-->